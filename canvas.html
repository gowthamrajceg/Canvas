<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <canvas id="example" width="2000" height="800">
    </canvas>
</body>

<script>
     var canvas = document.getElementById("example");
    var context = canvas.getContext("2d");
    var centerX = (canvas.width/4),centerY=(canvas.height/2);

    var radius = 3;
    var movementDistance=2;
    var degree = 0;

   var particles = {},
    particleIndex = 0,
    settings = {
      maxLife: 360,
      density: 20
    };

    function Particle() {
    this.particleRadius = Math.floor(Math.random() * Math.floor(6));
    if(this.particleRadius === 0 || this.particleRadius === 1)
    {
        this.particleRadius = 2;
    }
    this.centerX = centerX;
    this.centerY = centerY;
  this.posX = 0;
  this.posY = radius;
  this.id = particleIndex;
  this.life = 0;
  this.movementDistance = 1;
  this.degree = 0;
  this.radius = radius;
 
  this.findPointOnCurve = function(posX){
            var x = posX*posX;
            var value = (this.radius*this.radius)-x;
            var y = Math.sqrt(value);
            return y;
    }
  particles[particleIndex] = this;
  particleIndex ++;

}
 
Particle.prototype.draw = function() {
  this.posX += this.movementDistance;
  this.posY = this.findPointOnCurve(this.posX);

  this.life++;
  
    if (this.life >= settings.maxLife) {
        delete particles[this.id];
    }

 if(this.centerY+this.posY >= this.centerY && this.degree === 0 )
  {
    context.beginPath();
    context.fillStyle = "yellow";
    context.arc(this.centerX+this.posX,this.centerY+this.posY,this.particleRadius,0,Math.PI*2,true);
    context.closePath();
    context.fill();
    if(this.centerY+this.posY === this.centerY)
    {
        this.degree = 90;
        this.movementDistance = -1;
    }
  }
  else if(this.centerX+this.posX >= this.centerX && this.degree === 90)
  {
    context.beginPath();
    context.fillStyle = "yellow";
    context.arc(this.centerX+this.posX,this.centerY-this.posY,this.particleRadius,0,Math.PI*2,true);
    context.closePath();
    context.fill();
    if(this.centerX+this.posX === this.centerX)
    {
        this.centerY = this.centerY + this.radius;
        this.radius=this.radius*2;
        this.degree = 180;
        this.movementDistance = -1;
    }
  }
  else if(this.centerY-this.posY <= this.centerY && this.degree === 180)
  {
    context.beginPath();
    context.fillStyle = "yellow";
    context.arc(this.centerX+this.posX,this.centerY-this.posY,this.particleRadius,0,Math.PI*2,true);
    context.closePath();
    context.fill();
    if(this.centerY-this.posY === this.centerY)
    {
        this.degree = 270;
        this.movementDistance = 1;
    }
  }
  else if(this.centerX+this.posX <=this.centerX && this.degree === 270)
  {
    context.beginPath();
    context.fillStyle = "yellow";
    context.arc(this.centerX+this.posX,this.centerY+this.posY,this.particleRadius,0,Math.PI*2,true);
    context.closePath();
    context.fill();
    if(this.centerX+this.posX === this.centerX)
    {
        this.centerY = this.centerY - this.radius;
        this.radius=this.radius*2;
        this.degree = 0;
        this.movementDistance = 1;
    }
  }
}
   
    context.fillRect(0,0,canvas.width,canvas.height);

    var count = 0;
    setInterval(function() {
        context.fillStyle = "black";
        context.fillRect(0,0,canvas.width, canvas.height);
        
          if (Math.random() > 0.7) {
            new Particle();
          }

        for(var i in particles)
        {
        particles[i].draw();
        }
}, 5);

</script>
</html>
